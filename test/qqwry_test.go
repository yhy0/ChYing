package test

import (
    "fmt"
    "github.com/yhy0/ChYing/pkg/qqwry"
    "github.com/yhy0/logging"
    "strings"
    "testing"
)

/**
   @author yhy
   @since 2024/5/11
   @desc //TODO
**/

func TestQQWRY(t *testing.T) {
    logging.Logger = logging.New(true, "", "test", true)
    // err := qqwry.Download("./qqwry.dat")
    // if err != nil {
    //     t.Log(err)
    //     return
    // }
    qqwry.Init()
    asd := []string{
        "152.89.254.25",
        "173.249.10.30",
        "111.85.221.182",
        "124.65.191.242",
        "109.237.96.251",
        "116.147.37.17",
        "109.237.96.124",
        "185.254.37.7",
        "124.127.16.213",
        "10.105.209.131",
        "10.105.2.247",
        "10.105.3.169",
        "158.247.232.182",
        "172.17.16.47",
        "45.95.146.70",
        "45.95.146.77",
        "39.106.18.244",
        "157.230.184.48",
        "43.143.247.236",
        "103.135.35.58",
        "101.43.202.162",
        "183.111.204.170",
        "127.0.0.1",
        "121.127.232.219",
        "66.23.226.102",
        "153.0.155.5",
        "185.107.56.152",
        "107.189.28.25",
        "121.22.5.241",
        "123.12.251.65",
        "18.167.249.115",
        "64.176.67.181",
        "95.214.53.99",
        "89.187.161.5",
        "175.11.195.223",
        "220.196.192.0",
        "129.211.162.110",
        "183.192.84.118",
        "116.203.52.88",
        "47.117.175.7",
        "115.192.113.71",
        "180.76.154.190",
        "52.185.186.80",
        "43.143.137.26",
        "180.101.245.253",
        "180.101.245.251",
        "129.211.167.166",
        "180.101.245.252",
        "59.83.208.108",
        "223.104.38.162",
        "59.173.30.124",
        "220.196.160.45",
        "220.196.160.73",
        "220.196.160.125",
        "103.255.45.75",
        "209.141.32.16",
        "192.168.0.24",
        "150.158.91.72",
        "129.211.167.70",
        "129.211.166.142",
        "39.68.184.230",
        "129.211.167.108",
        "8.142.178.141",
        "124.127.220.195",
        "51.222.154.100",
        "212.71.255.170",
        "10.66.216.61",
        "34.100.208.153",
        "220.195.75.167",
        "101.43.70.49",
        "10.46.17.83",
        "172.16.21.178",
        "59.61.129.236",
        "27.149.121.128",
        "121.229.103.88",
        "218.201.194.188",
        "120.244.48.89",
        "160.16.83.163",
        "89.249.62.54",
        "81.68.197.3",
        "115.57.128.25",
        "218.56.99.23",
    }
    i := 0
    j := 0
    ipss := []string{}
    for _, _ip := range asd {
        find, err := qqwry.DB.Find(_ip)
        if err != nil {
            t.Log(err)
            continue
        }
        if !strings.Contains(find.String(), "局域网") {
            i++
        }
        if strings.Contains(find.String(), "腾讯云") {
            j++
            ipss = append(ipss, _ip)
        }
        fmt.Println(_ip, find)
    }
    fmt.Println(i, j)
    fmt.Println(ipss)
}
